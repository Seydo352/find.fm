{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Search,Music,Disc,User,Clock,Award,BarChart2,Calendar,Headphones,Activity,Heart,Globe,Music2,Bookmark,PieChart}from'lucide-react';// Spotify API constants\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SPOTIFY_CLIENT_ID='ec65a3e0c919492c863a40dc1fb23c8e';// Replace with your actual client ID\nconst REDIRECT_URI='http://localhost:3000/callback';// Adjust to your app's redirect URI\nconst AUTH_ENDPOINT='https://accounts.spotify.com/authorize';const RESPONSE_TYPE='token';const SCOPES='user-read-private user-read-email user-top-read';// Helper function to get token from URL on callback\nconst getTokenFromUrl=()=>{var _hash$substring$split;const hash=window.location.hash;if(!hash)return null;const token=(_hash$substring$split=hash.substring(1).split('&').find(elem=>elem.startsWith('access_token')))===null||_hash$substring$split===void 0?void 0:_hash$substring$split.split('=')[1];// Clean the URL by removing the hash\nwindow.location.hash='';return token;};// Main App component\nconst SpotifyApp=()=>{const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[selectedArtist,setSelectedArtist]=useState(null);const[loading,setLoading]=useState(false);const[token,setToken]=useState(null);const[userProfile,setUserProfile]=useState(null);const[userStats,setUserStats]=useState(null);// Check for token on component mount\nuseEffect(()=>{// Check if we already have a token in localStorage\nconst savedToken=localStorage.getItem('spotify_token');const tokenExpiryStr=localStorage.getItem('spotify_token_expiry');const tokenExpiry=tokenExpiryStr?parseInt(tokenExpiryStr):0;// Check for token in URL (after redirect from Spotify)\nconst tokenFromUrl=getTokenFromUrl();if(tokenFromUrl){// Save the new token to localStorage with expiry (1 hour from now)\nconst expiryTime=Date.now()+3600*1000;localStorage.setItem('spotify_token',tokenFromUrl);localStorage.setItem('spotify_token_expiry',expiryTime.toString());setToken(tokenFromUrl);}else if(savedToken&&tokenExpiry>Date.now()){// Use existing token if it's still valid\nsetToken(savedToken);}},[]);// Fetch user profile and stats when token is available\nuseEffect(()=>{if(token){// Fetch user profile data\nfetchUserProfile();// Fetch user stats\nfetchUserStats();}},[token]);// Fetch user profile data from Spotify API\nconst fetchUserProfile=async()=>{try{const response=await fetch('https://api.spotify.com/v1/me',{headers:{Authorization:`Bearer ${token}`}});if(!response.ok){if(response.status===401){logout();throw new Error('Session expired. Please login again.');}throw new Error('Failed to fetch user profile');}const data=await response.json();setUserProfile(data);}catch(error){console.error('Error fetching user profile:',error);}};// Fetch user stats from Spotify API\nconst fetchUserStats=async()=>{try{// Fetch user's top artists\nconst topArtistsResponse=await fetch('https://api.spotify.com/v1/me/top/artists?limit=5&time_range=medium_term',{headers:{Authorization:`Bearer ${token}`}});if(!topArtistsResponse.ok){throw new Error('Failed to fetch top artists');}const topArtistsData=await topArtistsResponse.json();// Fetch user's top tracks\nconst topTracksResponse=await fetch('https://api.spotify.com/v1/me/top/tracks?limit=5&time_range=medium_term',{headers:{Authorization:`Bearer ${token}`}});if(!topTracksResponse.ok){throw new Error('Failed to fetch top tracks');}const topTracksData=await topTracksResponse.json();// Construct user stats object\nconst stats={topArtists:topArtistsData.items,topTracks:topTracksData.items,favoriteGenres:extractTopGenres(topArtistsData.items)};setUserStats(stats);}catch(error){console.error('Error fetching user stats:',error);}};// Helper function to extract top genres from top artists\nconst extractTopGenres=artists=>{const genreCounts={};artists.forEach(artist=>{artist.genres.forEach(genre=>{genreCounts[genre]=(genreCounts[genre]||0)+1;});});return Object.entries(genreCounts).sort((a,b)=>b[1]-a[1]).slice(0,3).map(entry=>entry[0]);};// Function to initiate Spotify login\nconst login=()=>{window.location.href=`${AUTH_ENDPOINT}?client_id=${SPOTIFY_CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=${encodeURIComponent(SCOPES)}`;};// Function to logout\nconst logout=()=>{localStorage.removeItem('spotify_token');localStorage.removeItem('spotify_token_expiry');setToken(null);setSelectedArtist(null);setUserProfile(null);setUserStats(null);};// Fetch artist data from Spotify API\nconst searchSpotify=async query=>{if(!token||query.trim()===''){setSearchResults([]);return;}setLoading(true);try{const response=await fetch(`https://api.spotify.com/v1/search?q=${query}&type=artist&limit=5`,{headers:{Authorization:`Bearer ${token}`}});if(!response.ok){if(response.status===401){// Token expired\nlogout();throw new Error('Session expired. Please login again.');}throw new Error('Failed to fetch data from Spotify');}const data=await response.json();setSearchResults(data.artists.items);}catch(error){console.error('Error searching Spotify:',error);setSearchResults([]);}finally{setLoading(false);}};// Search debounce effect\nuseEffect(()=>{if(searchQuery.trim()===''){setSearchResults([]);return;}const timeoutId=setTimeout(()=>{searchSpotify(searchQuery);},500);return()=>clearTimeout(timeoutId);},[searchQuery,token]);// Function to get artist details\nconst fetchArtistDetails=async artistId=>{if(!token)return null;setLoading(true);try{// Get basic artist info\nconst artistResponse=await fetch(`https://api.spotify.com/v1/artists/${artistId}`,{headers:{Authorization:`Bearer ${token}`}});if(!artistResponse.ok)throw new Error('Failed to fetch artist data');const artistData=await artistResponse.json();// Get top tracks\nconst tracksResponse=await fetch(`https://api.spotify.com/v1/artists/${artistId}/top-tracks?market=US`,{headers:{Authorization:`Bearer ${token}`}});if(!tracksResponse.ok)throw new Error('Failed to fetch top tracks');const tracksData=await tracksResponse.json();// Get albums\nconst albumsResponse=await fetch(`https://api.spotify.com/v1/artists/${artistId}/albums?include_groups=album&limit=10&market=US`,{headers:{Authorization:`Bearer ${token}`}});if(!albumsResponse.ok)throw new Error('Failed to fetch albums');const albumsData=await albumsResponse.json();// Format the data\nconst formattedArtist={...artistData,topTracks:tracksData.tracks.map(track=>({id:track.id,name:track.name,duration:formatDuration(track.duration_ms),popularity:track.popularity,// Generate estimated stream count based on popularity\nstreams:Math.floor(track.popularity*100000+Math.random()*5000000).toLocaleString()})),albums:albumsData.items.map(album=>({id:album.id,name:album.name,year:new Date(album.release_date).getFullYear(),tracks:album.total_tracks,images:album.images}))};return formattedArtist;}catch(error){console.error('Error fetching artist details:',error);return null;}finally{setLoading(false);}};// Helper to format milliseconds to mm:ss\nconst formatDuration=ms=>{const minutes=Math.floor(ms/60000);const seconds=(ms%60000/1000).toFixed(0);return`${minutes}:${seconds.padStart(2,'0')}`;};// Handle artist selection\nconst handleArtistSelect=async artist=>{const detailedArtist=await fetchArtistDetails(artist.id);if(detailedArtist){setSelectedArtist(detailedArtist);setSearchResults([]);setSearchQuery('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-b from-gray-950 to-black text-white overflow-hidden\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 bg-black/80 backdrop-blur-md z-10 p-4 border-b border-gray-800/50 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Music,{className:\"w-8 h-8 text-green-500 mr-2 animate-pulse\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"Spotify Artist Lookup\"})]}),token?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-64 md:w-96 mr-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 flex items-center pl-3\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400 group-focus-within:text-green-500 transition-colors duration-300\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full bg-gray-800/80 rounded-full py-2 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-300 hover:bg-gray-700/80 focus:shadow-lg focus:shadow-green-500/20\",placeholder:\"Search for an artist...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin h-5 w-5 border-2 border-green-500 border-t-transparent rounded-full\"})}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute mt-1 w-full bg-gray-900/90 backdrop-blur-md rounded-md shadow-lg shadow-green-900/10 z-[9999] overflow-hidden border border-gray-800/50\",children:/*#__PURE__*/_jsx(\"ul\",{children:searchResults.map(artist=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-2 hover:bg-gray-800/90 cursor-pointer flex items-center transition-all duration-300 hover:translate-x-1 hover:shadow-md hover:shadow-green-900/20\",onClick:()=>handleArtistSelect(artist),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-700 rounded-full mr-3 flex-shrink-0 overflow-hidden shadow-md shadow-black/30 transition-transform duration-300 hover:scale-110\",children:artist.images&&artist.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:artist.images[artist.images.length-1].url,alt:artist.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(User,{className:\"w-6 h-6 text-gray-300 m-auto mt-2\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium group-hover:text-green-400\",children:artist.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Artist\"})]})]},artist.id))})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-full text-sm transition-all duration-300 hover:shadow-md hover:shadow-purple-900/10 hover:-translate-y-0.5 active:translate-y-0\",children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:shadow-lg hover:shadow-green-500/30 hover:-translate-y-0.5 active:translate-y-0 active:shadow-none\",children:\"Connect with Spotify\"})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"p-4\",children:!token?/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto py-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-24 h-24 mx-auto mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-green-500 rounded-full opacity-20 animate-pulse\"}),/*#__PURE__*/_jsx(Music,{className:\"w-24 h-24 text-green-500 mx-auto relative z-10\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-white to-green-400\",children:\"Spotify Artist Lookup\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-300 mb-8 max-w-2xl mx-auto\",children:\"Discover your favorite artists, explore their top tracks, and dive into their discography\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:login,className:\"bg-green-600 hover:bg-green-500 text-white px-10 py-4 rounded-full font-medium text-lg transition-all duration-300 hover:shadow-xl hover:shadow-green-500/20 hover:-translate-y-1 active:translate-y-0 transform group relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative z-10 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 18l6-6-6-6\"})}),\"Connect with Spotify\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute inset-0 bg-gradient-to-r from-green-600 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16 mb-12 grid grid-cols-1 md:grid-cols-2 gap-8 border-t border-gray-800/50 pt-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/50 rounded-xl p-8 shadow-xl hover:shadow-green-900/10 hover:-translate-y-1 transition-all duration-500 border border-gray-800/30\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 mr-2 text-green-500\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 16v-4M12 8h.01\"})]}),\"About This App\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"This Spotify Artist Lookup app lets you explore detailed information about your favorite musical artists. Browse through their top tracks, albums, and more \\u2014 all in a beautiful interface powered by the Spotify API.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Built with React, Tailwind CSS, and a passion for music discovery.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/50 rounded-xl p-8 shadow-xl hover:shadow-green-900/10 hover:-translate-y-1 transition-all duration-500 border border-gray-800/30\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 mr-2 text-green-500\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"22 12 18 12 15 21 9 3 6 12 2 12\"})}),\"Features\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Search for any artist in Spotify's vast database\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"View detailed artist information, including followers and popularity\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Explore top tracks with stream counts and popularity metrics\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Browse the artist's album catalog with beautiful artwork\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-16 bg-gradient-to-r from-green-900/20 to-purple-900/20 rounded-2xl p-12 shadow-2xl border border-gray-800/30\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-6\",children:\"Ready to explore your favorite artists?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-8 max-w-2xl mx-auto\",children:\"Connect with your Spotify account to unlock the full experience. No personal data is stored, and you can disconnect at any time.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-full font-medium transition-all duration-300 hover:shadow-lg hover:shadow-green-500/20 hover:-translate-y-1 animate-pulse hover:animate-none\",children:\"Connect Now\"})]})]}):selectedArtist?/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center md:items-end mb-8 p-6 bg-gradient-to-b from-gray-800/80 to-black rounded-lg shadow-xl relative overflow-hidden group border border-gray-800/30\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-green-900/20 to-purple-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-48 h-48 rounded-full mb-4 md:mb-0 md:mr-6 flex-shrink-0 overflow-hidden shadow-2xl shadow-black/50 z-10 transition-all duration-500 group-hover:shadow-green-800/30\",children:selectedArtist.images&&selectedArtist.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:selectedArtist.images[0].url,alt:selectedArtist.name,className:\"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gray-700 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-24 h-24 text-gray-300\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"z-10 transition-transform duration-500 group-hover:translate-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-400\",children:\"Artist\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-300\",children:selectedArtist.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center text-sm text-gray-300\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-2 bg-gray-800/80 px-3 py-1 rounded-full shadow-inner hover:bg-gray-700/80 transition-colors duration-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 font-bold\",children:selectedArtist.followers.total.toLocaleString()}),\" followers\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 text-gray-600\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center bg-gray-800/80 px-3 py-1 rounded-full shadow-inner hover:bg-gray-700/80 transition-colors duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2 w-16 bg-gray-700 rounded-full mr-2 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-1000 ease-out\",style:{width:`${selectedArtist.popularity}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 font-bold\",children:selectedArtist.popularity}),\"/100\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"w-5 h-5 mr-2 text-green-500\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"})}),\"Genres\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:selectedArtist.genres.length>0?selectedArtist.genres.map((genre,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-800/80 rounded-full px-4 py-1.5 text-sm shadow-md transition-all duration-300 hover:bg-gray-700/80 hover:shadow-lg hover:shadow-green-900/10 hover:-translate-y-0.5 hover:scale-105 active:translate-y-0 active:scale-100 border border-gray-700/50 cursor-pointer\",children:genre},index)):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"No genres available\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Music,{className:\"w-5 h-5 mr-2 text-green-500\"}),\"Popular Tracks\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900/70 rounded-md shadow-lg overflow-hidden border border-gray-800/30\",children:selectedArtist.topTracks.length>0?selectedArtist.topTracks.map((track,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center px-4 py-3 hover:bg-gray-800/90 border-b border-gray-800/50 last:border-none transition-all duration-300 group hover:translate-x-2 hover:shadow-md hover:shadow-green-900/10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 text-gray-400 mr-4 group-hover:text-green-500 font-bold transition-colors duration-300\",children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-medium group-hover:text-green-400 transition-colors duration-300\",children:track.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 flex flex-col items-end mr-6 transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center group-hover:text-green-400 transition-colors duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-1 w-10 bg-gray-700 rounded mr-2 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-green-500 transition-all duration-500 ease-out group-hover:w-full\",style:{width:`${track.popularity}%`}})}),/*#__PURE__*/_jsx(\"span\",{children:track.popularity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 group-hover:text-green-600 transition-colors duration-300\",children:[track.streams,\" streams\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 flex items-center group-hover:text-green-500 transition-all duration-300 transform group-hover:scale-105\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 mr-2\"}),track.duration]})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-gray-400\",children:\"No tracks available\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Disc,{className:\"w-5 h-5 mr-2 text-green-500\"}),\"Albums\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:selectedArtist.albums.length>0?selectedArtist.albums.map((album,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/80 p-4 rounded-md hover:bg-gray-800/90 transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-green-900/10 hover:-translate-y-1 group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square bg-gray-800/80 mb-4 rounded flex items-center justify-center shadow-inner overflow-hidden\",children:album.images&&album.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:album.images[0].url,alt:album.name,className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}):/*#__PURE__*/_jsx(Disc,{className:\"w-16 h-16 text-gray-700\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium truncate group-hover:text-green-400 transition-colors duration-300\",children:album.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400 group-hover:text-gray-300 transition-colors duration-300\",children:[album.year,\" \\u2022 \",album.tracks,\" tracks\"]})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"col-span-4 text-gray-400\",children:\"No albums available\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12 text-center mb-6\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gray-800 hover:bg-green-600 text-white px-8 py-3 rounded-full text-sm font-medium transition-all duration-300 hover:shadow-lg hover:shadow-green-500/20 hover:-translate-y-1 active:translate-y-0 active:shadow-none transform group relative overflow-hidden\",onClick:()=>setSelectedArtist(null),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative z-10 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2 transition-transform duration-300 group-hover:-translate-x-1\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 12H5M12 19l-7-7 7-7\"})}),\"Back to Search\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute inset-0 bg-gradient-to-r from-green-600 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto py-8\",children:[userProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10 p-6 bg-gradient-to-r from-gray-900/70 to-gray-800/50 rounded-xl shadow-xl border border-gray-800/30 relative overflow-hidden group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-green-900/10 to-purple-900/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-4 md:mb-0 md:mr-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-800/50 shadow-inner group-hover:border-green-500/30 transition-all duration-500\",children:userProfile.images&&userProfile.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:userProfile.images[0].url,alt:userProfile.display_name,className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gray-700 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-12 h-12 text-gray-300\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 bg-green-500 rounded-full w-4 h-4 border-2 border-gray-900\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center md:text-left flex-grow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center md:items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-300 mb-1\",children:userProfile.display_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-400 text-sm\",children:userProfile.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-0 md:ml-auto mt-4 md:mt-0 flex space-x-4\",children:[userProfile.country&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-800/80 px-3 py-1 rounded-full text-sm text-gray-300 shadow-inner\",children:[/*#__PURE__*/_jsx(Globe,{className:\"w-4 h-4 mr-2 text-green-400\"}),userProfile.country]}),userProfile.product&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-800/80 px-3 py-1 rounded-full text-sm text-gray-300 shadow-inner capitalize\",children:[/*#__PURE__*/_jsx(Award,{className:\"w-4 h-4 mr-2 text-green-400\"}),userProfile.product]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-gray-400 text-sm\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"bg-black/30 rounded-full px-3 py-1\",children:[\"Spotify ID: \",userProfile.id]})})]})]})]}),userStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/70 rounded-xl shadow-lg border border-gray-800/30 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-5 py-4 border-b border-gray-800/50 flex items-center\",children:[/*#__PURE__*/_jsx(Music2,{className:\"w-5 h-5 mr-2 text-green-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Your Top Artists\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:userStats.topArtists.map((artist,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-5 py-3 border-b last:border-b-0 border-gray-800/30 flex items-center hover:bg-gray-800/50 transition-colors duration-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-6 h-6 flex items-center justify-center rounded-full bg-gray-800 text-green-400 text-sm mr-3\",children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full overflow-hidden mr-3\",children:artist.images&&artist.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:artist.images[artist.images.length-1].url,alt:artist.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gray-700 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-gray-300\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:artist.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:artist.genres.slice(0,2).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-1.5 w-12 bg-gray-800 rounded-full mr-2 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-green-500\",style:{width:`${artist.popularity}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:artist.popularity})]})]},artist.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/70 rounded-xl shadow-lg border border-gray-800/30 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-5 py-4 border-b border-gray-800/50 flex items-center\",children:[/*#__PURE__*/_jsx(Headphones,{className:\"w-5 h-5 mr-2 text-green-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Your Top Tracks\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:userStats.topTracks.map((track,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-5 py-3 border-b last:border-b-0 border-gray-800/30 flex items-center hover:bg-gray-800/50 transition-colors duration-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-6 h-6 flex items-center justify-center rounded-full bg-gray-800 text-green-400 text-sm mr-3\",children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded overflow-hidden mr-3\",children:track.album.images&&track.album.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:track.album.images[track.album.images.length-1].url,alt:track.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gray-700 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Music,{className:\"w-5 h-5 text-gray-300\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium truncate\",children:track.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 truncate\",children:track.artists.map(a=>a.name).join(', ')})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:formatDuration(track.duration_ms)})]},track.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/70 rounded-xl shadow-lg border border-gray-800/30 p-5 md:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"w-5 h-5 mr-2 text-green-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Your Music Taste\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:userStats.favoriteGenres.map((genre,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-green-900/40 to-green-800/30 rounded-full px-4 py-1.5 text-sm shadow-md border border-green-900/30\",children:genre},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-gray-900/70 via-gray-800/50 to-gray-900/70 rounded-xl p-8 text-center shadow-xl border border-gray-800/30 hover:shadow-green-900/10 transition-all duration-500 group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-20 h-20 mx-auto mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-green-500 rounded-full opacity-10 animate-pulse\"}),/*#__PURE__*/_jsx(Search,{className:\"w-20 h-20 text-green-500 mx-auto relative z-10 group-hover:scale-110 transition-transform duration-500\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-3 text-transparent bg-clip-text bg-gradient-to-r from-white to-green-400 group-hover:to-green-300 transition-colors duration-300\",children:\"Search for your favorite artists\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 max-w-2xl mx-auto text-lg group-hover:text-gray-300 transition-colors duration-300\",children:\"Enter an artist name in the search bar above to explore their top tracks, albums, and more\"})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"mt-12 p-6 border-t border-gray-800/30 text-center text-sm bg-gradient-to-b from-black to-gray-900/80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg mx-auto hover:scale-105 transition-transform duration-500\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 font-medium\",children:\"Spotify Artist Lookup App\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-gray-400 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse\"}),\"Connected to the Spotify API\"]})]})}),/*#__PURE__*/_jsx(\"style\",{jsx:true,global:true,children:`\n        @keyframes float {\n          0% { transform: translateY(0px); }\n          50% { transform: translateY(-10px); }\n          100% { transform: translateY(0px); }\n        }\n\n        @keyframes fadeIn {\n          0% { opacity: 0; transform: translateY(10px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n\n        .animate-float {\n          animation: float 3s ease-in-out infinite;\n        }\n\n        .animate-fadeIn {\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n      `})]});};export default SpotifyApp;","map":{"version":3,"names":["React","useState","useEffect","Search","Music","Disc","User","Clock","Award","BarChart2","Calendar","Headphones","Activity","Heart","Globe","Music2","Bookmark","PieChart","jsx","_jsx","jsxs","_jsxs","SPOTIFY_CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","SCOPES","getTokenFromUrl","_hash$substring$split","hash","window","location","token","substring","split","find","elem","startsWith","SpotifyApp","searchQuery","setSearchQuery","searchResults","setSearchResults","selectedArtist","setSelectedArtist","loading","setLoading","setToken","userProfile","setUserProfile","userStats","setUserStats","savedToken","localStorage","getItem","tokenExpiryStr","tokenExpiry","parseInt","tokenFromUrl","expiryTime","Date","now","setItem","toString","fetchUserProfile","fetchUserStats","response","fetch","headers","Authorization","ok","status","logout","Error","data","json","error","console","topArtistsResponse","topArtistsData","topTracksResponse","topTracksData","stats","topArtists","items","topTracks","favoriteGenres","extractTopGenres","artists","genreCounts","forEach","artist","genres","genre","Object","entries","sort","a","b","slice","map","entry","login","href","encodeURIComponent","removeItem","searchSpotify","query","trim","timeoutId","setTimeout","clearTimeout","fetchArtistDetails","artistId","artistResponse","artistData","tracksResponse","tracksData","albumsResponse","albumsData","formattedArtist","tracks","track","id","name","duration","formatDuration","duration_ms","popularity","streams","Math","floor","random","toLocaleString","albums","album","year","release_date","getFullYear","total_tracks","images","ms","minutes","seconds","toFixed","padStart","handleArtistSelect","detailedArtist","className","children","type","placeholder","value","onChange","e","target","length","onClick","src","url","alt","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","points","followers","total","style","width","index","display_name","email","country","product","join","global"],"sources":["C:/Users/ggami/Desktop/ProjectSP/spotify-artist-lookup/src/SpotifyApp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Search, Music, Disc, User, Clock, Award, BarChart2, Calendar, Headphones, Activity, Heart, Globe, Music2, Bookmark, PieChart } from 'lucide-react';\r\n\r\n// Spotify API constants\r\nconst SPOTIFY_CLIENT_ID = 'ec65a3e0c919492c863a40dc1fb23c8e'; // Replace with your actual client ID\r\nconst REDIRECT_URI = 'http://localhost:3000/callback'; // Adjust to your app's redirect URI\r\nconst AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize';\r\nconst RESPONSE_TYPE = 'token';\r\nconst SCOPES = 'user-read-private user-read-email user-top-read';\r\n\r\n// Helper function to get token from URL on callback\r\n\r\n\r\nconst getTokenFromUrl = () => {\r\n  const hash = window.location.hash;\r\n  if (!hash) return null;\r\n\r\n  const token = hash\r\n    .substring(1)\r\n    .split('&')\r\n    .find(elem => elem.startsWith('access_token'))\r\n    ?.split('=')[1];\r\n\r\n  // Clean the URL by removing the hash\r\n  window.location.hash = '';\r\n  \r\n  return token;\r\n};\r\n\r\n// Main App component\r\nconst SpotifyApp = () => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [selectedArtist, setSelectedArtist] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [token, setToken] = useState(null);\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [userStats, setUserStats] = useState(null);\r\n\r\n  // Check for token on component mount\r\n  useEffect(() => {\r\n    // Check if we already have a token in localStorage\r\n    const savedToken = localStorage.getItem('spotify_token');\r\n    const tokenExpiryStr = localStorage.getItem('spotify_token_expiry');\r\n    const tokenExpiry = tokenExpiryStr ? parseInt(tokenExpiryStr) : 0;\r\n    \r\n    // Check for token in URL (after redirect from Spotify)\r\n    const tokenFromUrl = getTokenFromUrl();\r\n    \r\n    if (tokenFromUrl) {\r\n      // Save the new token to localStorage with expiry (1 hour from now)\r\n      const expiryTime = Date.now() + 3600 * 1000;\r\n      localStorage.setItem('spotify_token', tokenFromUrl);\r\n      localStorage.setItem('spotify_token_expiry', expiryTime.toString());\r\n      setToken(tokenFromUrl);\r\n    } else if (savedToken && tokenExpiry > Date.now()) {\r\n      // Use existing token if it's still valid\r\n      setToken(savedToken);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch user profile and stats when token is available\r\n  useEffect(() => {\r\n    if (token) {\r\n      // Fetch user profile data\r\n      fetchUserProfile();\r\n      \r\n      // Fetch user stats\r\n      fetchUserStats();\r\n    }\r\n  }, [token]);\r\n\r\n  // Fetch user profile data from Spotify API\r\n  const fetchUserProfile = async () => {\r\n    try {\r\n      const response = await fetch('https://api.spotify.com/v1/me', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          logout();\r\n          throw new Error('Session expired. Please login again.');\r\n        }\r\n        throw new Error('Failed to fetch user profile');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setUserProfile(data);\r\n    } catch (error) {\r\n      console.error('Error fetching user profile:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch user stats from Spotify API\r\n  const fetchUserStats = async () => {\r\n    try {\r\n      // Fetch user's top artists\r\n      const topArtistsResponse = await fetch('https://api.spotify.com/v1/me/top/artists?limit=5&time_range=medium_term', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (!topArtistsResponse.ok) {\r\n        throw new Error('Failed to fetch top artists');\r\n      }\r\n      \r\n      const topArtistsData = await topArtistsResponse.json();\r\n      \r\n      // Fetch user's top tracks\r\n      const topTracksResponse = await fetch('https://api.spotify.com/v1/me/top/tracks?limit=5&time_range=medium_term', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (!topTracksResponse.ok) {\r\n        throw new Error('Failed to fetch top tracks');\r\n      }\r\n      \r\n      const topTracksData = await topTracksResponse.json();\r\n      \r\n      // Construct user stats object\r\n      const stats = {\r\n        topArtists: topArtistsData.items,\r\n        topTracks: topTracksData.items,\r\n        favoriteGenres: extractTopGenres(topArtistsData.items),\r\n      };\r\n      \r\n      setUserStats(stats);\r\n    } catch (error) {\r\n      console.error('Error fetching user stats:', error);\r\n    }\r\n  };\r\n\r\n  // Helper function to extract top genres from top artists\r\n  const extractTopGenres = (artists) => {\r\n    const genreCounts = {};\r\n    \r\n    artists.forEach(artist => {\r\n      artist.genres.forEach(genre => {\r\n        genreCounts[genre] = (genreCounts[genre] || 0) + 1;\r\n      });\r\n    });\r\n    \r\n    return Object.entries(genreCounts)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 3)\r\n      .map(entry => entry[0]);\r\n  };\r\n\r\n  // Function to initiate Spotify login\r\n  const login = () => {\r\n    window.location.href = `${AUTH_ENDPOINT}?client_id=${SPOTIFY_CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=${encodeURIComponent(SCOPES)}`;\r\n  };\r\n\r\n  // Function to logout\r\n  const logout = () => {\r\n    localStorage.removeItem('spotify_token');\r\n    localStorage.removeItem('spotify_token_expiry');\r\n    setToken(null);\r\n    setSelectedArtist(null);\r\n    setUserProfile(null);\r\n    setUserStats(null);\r\n  };\r\n\r\n  // Fetch artist data from Spotify API\r\n  const searchSpotify = async (query) => {\r\n    if (!token || query.trim() === '') {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const response = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=artist&limit=5`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          // Token expired\r\n          logout();\r\n          throw new Error('Session expired. Please login again.');\r\n        }\r\n        throw new Error('Failed to fetch data from Spotify');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSearchResults(data.artists.items);\r\n    } catch (error) {\r\n      console.error('Error searching Spotify:', error);\r\n      setSearchResults([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Search debounce effect\r\n  useEffect(() => {\r\n    if (searchQuery.trim() === '') {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    const timeoutId = setTimeout(() => {\r\n      searchSpotify(searchQuery);\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [searchQuery, token]);\r\n\r\n  // Function to get artist details\r\n    const fetchArtistDetails = async (artistId) => {\r\n      if (!token) return null;\r\n      \r\n      setLoading(true);\r\n      \r\n      try {\r\n        // Get basic artist info\r\n        const artistResponse = await fetch(`https://api.spotify.com/v1/artists/${artistId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (!artistResponse.ok) throw new Error('Failed to fetch artist data');\r\n        const artistData = await artistResponse.json();\r\n        \r\n        // Get top tracks\r\n        const tracksResponse = await fetch(`https://api.spotify.com/v1/artists/${artistId}/top-tracks?market=US`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (!tracksResponse.ok) throw new Error('Failed to fetch top tracks');\r\n        const tracksData = await tracksResponse.json();\r\n        \r\n        // Get albums\r\n        const albumsResponse = await fetch(`https://api.spotify.com/v1/artists/${artistId}/albums?include_groups=album&limit=10&market=US`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (!albumsResponse.ok) throw new Error('Failed to fetch albums');\r\n        const albumsData = await albumsResponse.json();\r\n        \r\n        // Format the data\r\n        const formattedArtist = {\r\n          ...artistData,\r\n          topTracks: tracksData.tracks.map(track => ({\r\n            id: track.id,\r\n            name: track.name,\r\n            duration: formatDuration(track.duration_ms),\r\n            popularity: track.popularity,\r\n            // Generate estimated stream count based on popularity\r\n            streams: Math.floor((track.popularity * 100000) + (Math.random() * 5000000)).toLocaleString()\r\n          })),\r\n          albums: albumsData.items.map(album => ({\r\n            id: album.id,\r\n            name: album.name,\r\n            year: new Date(album.release_date).getFullYear(),\r\n            tracks: album.total_tracks,\r\n            images: album.images\r\n          }))\r\n        };\r\n        \r\n        return formattedArtist;\r\n    } catch (error) {\r\n      console.error('Error fetching artist details:', error);\r\n      return null;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper to format milliseconds to mm:ss\r\n  const formatDuration = (ms) => {\r\n    const minutes = Math.floor(ms / 60000);\r\n    const seconds = ((ms % 60000) / 1000).toFixed(0);\r\n    return `${minutes}:${seconds.padStart(2, '0')}`;\r\n  };\r\n\r\n  // Handle artist selection\r\n  const handleArtistSelect = async (artist) => {\r\n    const detailedArtist = await fetchArtistDetails(artist.id);\r\n    if (detailedArtist) {\r\n      setSelectedArtist(detailedArtist);\r\n      setSearchResults([]);\r\n      setSearchQuery('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-950 to-black text-white overflow-hidden\">\r\n      {/* Header */}\r\n      <header className=\"sticky top-0 bg-black/80 backdrop-blur-md z-10 p-4 border-b border-gray-800/50 shadow-lg\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center\">\r\n            <Music className=\"w-8 h-8 text-green-500 mr-2 animate-pulse\" />\r\n            <h1 className=\"text-xl font-bold\">Spotify Artist Lookup</h1>\r\n          </div>\r\n          \r\n          {token ? (\r\n            <div className=\"flex items-center\">\r\n              <div className=\"relative w-64 md:w-96 mr-4\">\r\n                <div className=\"absolute inset-y-0 left-0 flex items-center pl-3\">\r\n                  <Search className=\"h-5 w-5 text-gray-400 group-focus-within:text-green-500 transition-colors duration-300\" />\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full bg-gray-800/80 rounded-full py-2 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-300 hover:bg-gray-700/80 focus:shadow-lg focus:shadow-green-500/20\"\r\n                  placeholder=\"Search for an artist...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                />\r\n                {loading && (\r\n                  <div className=\"absolute right-3 top-2\">\r\n                    <div className=\"animate-spin h-5 w-5 border-2 border-green-500 border-t-transparent rounded-full\"></div>\r\n                  </div>\r\n                )}\r\n                {searchResults.length > 0 && (\r\n                  <div className=\"absolute mt-1 w-full bg-gray-900/90 backdrop-blur-md rounded-md shadow-lg shadow-green-900/10 z-[9999] overflow-hidden border border-gray-800/50\">\r\n                    <ul>\r\n                      {searchResults.map(artist => (\r\n                        <li\r\n                          key={artist.id}\r\n                          className=\"px-4 py-2 hover:bg-gray-800/90 cursor-pointer flex items-center transition-all duration-300 hover:translate-x-1 hover:shadow-md hover:shadow-green-900/20\"\r\n                          onClick={() => handleArtistSelect(artist)}\r\n                        >\r\n                          <div className=\"w-10 h-10 bg-gray-700 rounded-full mr-3 flex-shrink-0 overflow-hidden shadow-md shadow-black/30 transition-transform duration-300 hover:scale-110\">\r\n                            {artist.images && artist.images.length > 0 ? (\r\n                              <img\r\n                                src={artist.images[artist.images.length - 1].url}\r\n                                alt={artist.name}\r\n                                className=\"w-full h-full object-cover\"\r\n                              />\r\n                            ) : (\r\n                              <User className=\"w-6 h-6 text-gray-300 m-auto mt-2\" />\r\n                            )}\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"font-medium group-hover:text-green-400\">{artist.name}</p>\r\n                            <p className=\"text-sm text-gray-400\">Artist</p>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <button\r\n                onClick={logout}\r\n                className=\"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-full text-sm transition-all duration-300 hover:shadow-md hover:shadow-purple-900/10 hover:-translate-y-0.5 active:translate-y-0\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <button\r\n              onClick={login}\r\n              className=\"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:shadow-lg hover:shadow-green-500/30 hover:-translate-y-0.5 active:translate-y-0 active:shadow-none\"\r\n            >\r\n              Connect with Spotify\r\n            </button>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"p-4\">\r\n        {!token ? (\r\n          <div className=\"max-w-4xl mx-auto py-16\">\r\n            <div className=\"text-center mb-12\">\r\n              <div className=\"relative w-24 h-24 mx-auto mb-6\">\r\n                <div className=\"absolute inset-0 bg-green-500 rounded-full opacity-20 animate-pulse\"></div>\r\n                <Music className=\"w-24 h-24 text-green-500 mx-auto relative z-10\" />\r\n              </div>\r\n              <h2 className=\"text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-white to-green-400\">Spotify Artist Lookup</h2>\r\n              <p className=\"text-xl text-gray-300 mb-8 max-w-2xl mx-auto\">Discover your favorite artists, explore their top tracks, and dive into their discography</p>\r\n              <button\r\n                onClick={login}\r\n                className=\"bg-green-600 hover:bg-green-500 text-white px-10 py-4 rounded-full font-medium text-lg transition-all duration-300 hover:shadow-xl hover:shadow-green-500/20 hover:-translate-y-1 active:translate-y-0 transform group relative overflow-hidden\"\r\n              >\r\n                <span className=\"relative z-10 flex items-center\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <path d=\"M9 18l6-6-6-6\" />\r\n                  </svg>\r\n                  Connect with Spotify\r\n                </span>\r\n                <span className=\"absolute inset-0 bg-gradient-to-r from-green-600 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></span>\r\n              </button>\r\n            </div>\r\n            \r\n            {/* About Section */}\r\n            <div className=\"mt-16 mb-12 grid grid-cols-1 md:grid-cols-2 gap-8 border-t border-gray-800/50 pt-16\">\r\n              <div className=\"bg-gray-900/50 rounded-xl p-8 shadow-xl hover:shadow-green-900/10 hover:-translate-y-1 transition-all duration-500 border border-gray-800/30\">\r\n                <h3 className=\"text-2xl font-bold mb-4 flex items-center\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 mr-2 text-green-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                    <path d=\"M12 16v-4M12 8h.01\" />\r\n                  </svg>\r\n                  About This App\r\n                </h3>\r\n                <p className=\"text-gray-300 mb-4\">\r\n                  This Spotify Artist Lookup app lets you explore detailed information about your favorite musical artists. Browse through their top tracks, albums, and more  all in a beautiful interface powered by the Spotify API.\r\n                </p>\r\n                <p className=\"text-gray-400\">\r\n                  Built with React, Tailwind CSS, and a passion for music discovery.\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-900/50 rounded-xl p-8 shadow-xl hover:shadow-green-900/10 hover:-translate-y-1 transition-all duration-500 border border-gray-800/30\">\r\n                <h3 className=\"text-2xl font-bold mb-4 flex items-center\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 mr-2 text-green-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\" />\r\n                  </svg>\r\n                  Features\r\n                </h3>\r\n                <ul className=\"space-y-3\">\r\n                  <li className=\"flex items-start\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                      <polyline points=\"20 6 9 17 4 12\" />\r\n                    </svg>\r\n                    <span className=\"text-gray-300\">Search for any artist in Spotify's vast database</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                      <polyline points=\"20 6 9 17 4 12\" />\r\n                    </svg>\r\n                    <span className=\"text-gray-300\">View detailed artist information, including followers and popularity</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                      <polyline points=\"20 6 9 17 4 12\" />\r\n                    </svg>\r\n                    <span className=\"text-gray-300\">Explore top tracks with stream counts and popularity metrics</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2 text-green-500 mt-0.5 flex-shrink-0\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                      <polyline points=\"20 6 9 17 4 12\" />\r\n                    </svg>\r\n                    <span className=\"text-gray-300\">Browse the artist's album catalog with beautiful artwork</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Get Started Section */}\r\n            <div className=\"text-center mt-16 bg-gradient-to-r from-green-900/20 to-purple-900/20 rounded-2xl p-12 shadow-2xl border border-gray-800/30\">\r\n              <h3 className=\"text-2xl font-bold mb-6\">Ready to explore your favorite artists?</h3>\r\n              <p className=\"text-gray-300 mb-8 max-w-2xl mx-auto\">\r\n                Connect with your Spotify account to unlock the full experience. No personal data is stored, and you can disconnect at any time.\r\n              </p>\r\n              <button\r\n                onClick={login}\r\n                className=\"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-full font-medium transition-all duration-300 hover:shadow-lg hover:shadow-green-500/20 hover:-translate-y-1 animate-pulse hover:animate-none\"\r\n              >\r\n                Connect Now\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : selectedArtist ? (\r\n          <div className=\"max-w-5xl mx-auto\">\r\n            {/* Artist Header */}\r\n            <div className=\"flex flex-col md:flex-row items-center md:items-end mb-8 p-6 bg-gradient-to-b from-gray-800/80 to-black rounded-lg shadow-xl relative overflow-hidden group border border-gray-800/30\">\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-green-900/20 to-purple-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700\"></div>\r\n              \r\n              <div className=\"w-48 h-48 rounded-full mb-4 md:mb-0 md:mr-6 flex-shrink-0 overflow-hidden shadow-2xl shadow-black/50 z-10 transition-all duration-500 group-hover:shadow-green-800/30\">\r\n                {selectedArtist.images && selectedArtist.images.length > 0 ? (\r\n                  <img\r\n                    src={selectedArtist.images[0].url}\r\n                    alt={selectedArtist.name}\r\n                    className=\"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-full h-full bg-gray-700 flex items-center justify-center\">\r\n                    <User className=\"w-24 h-24 text-gray-300\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"z-10 transition-transform duration-500 group-hover:translate-x-2\">\r\n                <span className=\"text-sm font-medium text-green-400\">Artist</span>\r\n                <h1 className=\"text-5xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-300\">{selectedArtist.name}</h1>\r\n                <div className=\"flex flex-wrap items-center text-sm text-gray-300\">\r\n                  <span className=\"mr-2 bg-gray-800/80 px-3 py-1 rounded-full shadow-inner hover:bg-gray-700/80 transition-colors duration-300\">\r\n                    <span className=\"text-green-400 font-bold\">{selectedArtist.followers.total.toLocaleString()}</span> followers\r\n                  </span>\r\n                  <span className=\"mr-2 text-gray-600\"></span>\r\n                  <span className=\"flex items-center bg-gray-800/80 px-3 py-1 rounded-full shadow-inner hover:bg-gray-700/80 transition-colors duration-300\">\r\n                    <div className=\"h-2 w-16 bg-gray-700 rounded-full mr-2 overflow-hidden\">\r\n                      <div\r\n                        className=\"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-1000 ease-out\"\r\n                        style={{ width: `${selectedArtist.popularity}%` }}\r\n                      ></div>\r\n                    </div>\r\n                    <span className=\"text-green-400 font-bold\">{selectedArtist.popularity}</span>/100\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Genres */}\r\n            <div className=\"mb-8\">\r\n              <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"w-5 h-5 mr-2 text-green-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                  <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\r\n                </svg>\r\n                Genres\r\n              </h2>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {selectedArtist.genres.length > 0 ? (\r\n                  selectedArtist.genres.map((genre, index) => (\r\n                    <span\r\n                      key={index}\r\n                      className=\"bg-gray-800/80 rounded-full px-4 py-1.5 text-sm shadow-md transition-all duration-300 hover:bg-gray-700/80 hover:shadow-lg hover:shadow-green-900/10 hover:-translate-y-0.5 hover:scale-105 active:translate-y-0 active:scale-100 border border-gray-700/50 cursor-pointer\"\r\n                    >\r\n                      {genre}\r\n                    </span>\r\n                  ))\r\n                ) : (\r\n                  <span className=\"text-gray-400\">No genres available</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Top Tracks */}\r\n            <div className=\"mb-8\">\r\n              <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n                <Music className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                Popular Tracks\r\n              </h2>\r\n              <div className=\"bg-gray-900/70 rounded-md shadow-lg overflow-hidden border border-gray-800/30\">\r\n                {selectedArtist.topTracks.length > 0 ? (\r\n                  selectedArtist.topTracks.map((track, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"flex items-center px-4 py-3 hover:bg-gray-800/90 border-b border-gray-800/50 last:border-none transition-all duration-300 group hover:translate-x-2 hover:shadow-md hover:shadow-green-900/10\"\r\n                    >\r\n                      <div className=\"w-6 text-gray-400 mr-4 group-hover:text-green-500 font-bold transition-colors duration-300\">{index + 1}</div>\r\n                      <div className=\"flex-grow\">\r\n                        <p className=\"font-medium group-hover:text-green-400 transition-colors duration-300\">{track.name}</p>\r\n                      </div>\r\n                      <div className=\"text-gray-400 flex flex-col items-end mr-6 transition-all duration-300\">\r\n                        <div className=\"flex items-center group-hover:text-green-400 transition-colors duration-300\">\r\n                          <div className=\"h-1 w-10 bg-gray-700 rounded mr-2 overflow-hidden\">\r\n                            <div\r\n                              className=\"h-full bg-green-500 transition-all duration-500 ease-out group-hover:w-full\"\r\n                              style={{ width: `${track.popularity}%` }}\r\n                            ></div>\r\n                          </div>\r\n                          <span>{track.popularity}</span>\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-500 group-hover:text-green-600 transition-colors duration-300\">\r\n                          {track.streams} streams\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-gray-400 flex items-center group-hover:text-green-500 transition-all duration-300 transform group-hover:scale-105\">\r\n                        <Clock className=\"w-4 h-4 mr-2\" />\r\n                        {track.duration}\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <div className=\"p-4 text-gray-400\">No tracks available</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Albums */}\r\n            <div>\r\n              <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n                <Disc className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                Albums\r\n              </h2>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                {selectedArtist.albums.length > 0 ? (\r\n                  selectedArtist.albums.map((album, index) => (\r\n                    <div key={index} className=\"bg-gray-900/80 p-4 rounded-md hover:bg-gray-800/90 transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-green-900/10 hover:-translate-y-1 group\">\r\n                      <div className=\"aspect-square bg-gray-800/80 mb-4 rounded flex items-center justify-center shadow-inner overflow-hidden\">\r\n                        {album.images && album.images.length > 0 ? (\r\n                          <img\r\n                            src={album.images[0].url}\r\n                            alt={album.name}\r\n                            className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\r\n                          />\r\n                        ) : (\r\n                          <Disc className=\"w-16 h-16 text-gray-700\" />\r\n                        )}\r\n                      </div>\r\n                      <h3 className=\"font-medium truncate group-hover:text-green-400 transition-colors duration-300\">{album.name}</h3>\r\n                      <p className=\"text-sm text-gray-400 group-hover:text-gray-300 transition-colors duration-300\">{album.year}  {album.tracks} tracks</p>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <div className=\"col-span-4 text-gray-400\">No albums available</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Back button */}\r\n            <div className=\"mt-12 text-center mb-6\">\r\n              <button\r\n                className=\"bg-gray-800 hover:bg-green-600 text-white px-8 py-3 rounded-full text-sm font-medium transition-all duration-300 hover:shadow-lg hover:shadow-green-500/20 hover:-translate-y-1 active:translate-y-0 active:shadow-none transform group relative overflow-hidden\"\r\n                onClick={() => setSelectedArtist(null)}\r\n              >\r\n                <span className=\"relative z-10 flex items-center\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2 transition-transform duration-300 group-hover:-translate-x-1\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <path d=\"M19 12H5M12 19l-7-7 7-7\" />\r\n                  </svg>\r\n                  Back to Search\r\n                </span>\r\n                <span className=\"absolute inset-0 bg-gradient-to-r from-green-600 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"max-w-4xl mx-auto py-8\">\r\n            {/* User Profile Section */}\r\n            {userProfile && (\r\n              <div className=\"mb-10 p-6 bg-gradient-to-r from-gray-900/70 to-gray-800/50 rounded-xl shadow-xl border border-gray-800/30 relative overflow-hidden group\">\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-green-900/10 to-purple-900/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700\"></div>\r\n                \r\n                <div className=\"flex flex-col md:flex-row items-center\">\r\n                  {/* Profile Picture */}\r\n                  <div className=\"relative mb-4 md:mb-0 md:mr-6\">\r\n                    <div className=\"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-800/50 shadow-inner group-hover:border-green-500/30 transition-all duration-500\">\r\n                      {userProfile.images && userProfile.images.length > 0 ? (\r\n                        <img\r\n                          src={userProfile.images[0].url}\r\n                          alt={userProfile.display_name}\r\n                          className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-full h-full bg-gray-700 flex items-center justify-center\">\r\n                          <User className=\"w-12 h-12 text-gray-300\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"absolute bottom-0 right-0 bg-green-500 rounded-full w-4 h-4 border-2 border-gray-900\"></div>\r\n                  </div>\r\n                  \r\n                  {/* User Info */}\r\n                  <div className=\"text-center md:text-left flex-grow\">\r\n                    <div className=\"flex flex-col md:flex-row items-center md:items-start\">\r\n                      <div>\r\n                        <h2 className=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-300 mb-1\">\r\n                          {userProfile.display_name}\r\n                        </h2>\r\n                        <p className=\"text-green-400 text-sm\">{userProfile.email}</p>\r\n                      </div>\r\n                      \r\n                      <div className=\"ml-0 md:ml-auto mt-4 md:mt-0 flex space-x-4\">\r\n                        {userProfile.country && (\r\n                          <div className=\"flex items-center bg-gray-800/80 px-3 py-1 rounded-full text-sm text-gray-300 shadow-inner\">\r\n                            <Globe className=\"w-4 h-4 mr-2 text-green-400\" />\r\n                            {userProfile.country}\r\n                          </div>\r\n                        )}\r\n                        {userProfile.product && (\r\n                          <div className=\"flex items-center bg-gray-800/80 px-3 py-1 rounded-full text-sm text-gray-300 shadow-inner capitalize\">\r\n                            <Award className=\"w-4 h-4 mr-2 text-green-400\" />\r\n                            {userProfile.product}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"mt-4 text-gray-400 text-sm\">\r\n                      <span className=\"bg-black/30 rounded-full px-3 py-1\">Spotify ID: {userProfile.id}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* User Stats Dashboard */}\r\n            {userStats && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10\">\r\n                {/* Top Artists */}\r\n                <div className=\"bg-gray-900/70 rounded-xl shadow-lg border border-gray-800/30 overflow-hidden\">\r\n                  <div className=\"px-5 py-4 border-b border-gray-800/50 flex items-center\">\r\n                    <Music2 className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                    <h3 className=\"text-xl font-bold\">Your Top Artists</h3>\r\n                  </div>\r\n                  <ul>\r\n                    {userStats.topArtists.map((artist, index) => (\r\n                      <li key={artist.id} className=\"px-5 py-3 border-b last:border-b-0 border-gray-800/30 flex items-center hover:bg-gray-800/50 transition-colors duration-300\">\r\n                        <span className=\"w-6 h-6 flex items-center justify-center rounded-full bg-gray-800 text-green-400 text-sm mr-3\">\r\n                          {index + 1}\r\n                        </span>\r\n                        <div className=\"w-10 h-10 rounded-full overflow-hidden mr-3\">\r\n                          {artist.images && artist.images.length > 0 ? (\r\n                            <img\r\n                              src={artist.images[artist.images.length - 1].url}\r\n                              alt={artist.name}\r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-full bg-gray-700 flex items-center justify-center\">\r\n                              <User className=\"w-5 h-5 text-gray-300\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-grow\">\r\n                          <p className=\"font-medium\">{artist.name}</p>\r\n                          <p className=\"text-xs text-gray-400\">{artist.genres.slice(0, 2).join(', ')}</p>\r\n                        </div>\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"h-1.5 w-12 bg-gray-800 rounded-full mr-2 overflow-hidden\">\r\n                            <div\r\n                              className=\"h-full bg-green-500\"\r\n                              style={{ width: `${artist.popularity}%` }}\r\n                            ></div>\r\n                          </div>\r\n                          <span className=\"text-xs text-gray-400\">{artist.popularity}</span>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n                \r\n                {/* Top Tracks */}\r\n                <div className=\"bg-gray-900/70 rounded-xl shadow-lg border border-gray-800/30 overflow-hidden\">\r\n                  <div className=\"px-5 py-4 border-b border-gray-800/50 flex items-center\">\r\n                    <Headphones className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                    <h3 className=\"text-xl font-bold\">Your Top Tracks</h3>\r\n                  </div>\r\n                  <ul>\r\n                    {userStats.topTracks.map((track, index) => (\r\n                      <li key={track.id} className=\"px-5 py-3 border-b last:border-b-0 border-gray-800/30 flex items-center hover:bg-gray-800/50 transition-colors duration-300\">\r\n                        <span className=\"w-6 h-6 flex items-center justify-center rounded-full bg-gray-800 text-green-400 text-sm mr-3\">\r\n                          {index + 1}\r\n                        </span>\r\n                        <div className=\"w-10 h-10 rounded overflow-hidden mr-3\">\r\n                          {track.album.images && track.album.images.length > 0 ? (\r\n                            <img\r\n                              src={track.album.images[track.album.images.length - 1].url}\r\n                              alt={track.name}\r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-full bg-gray-700 flex items-center justify-center\">\r\n                              <Music className=\"w-5 h-5 text-gray-300\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-grow\">\r\n                          <p className=\"font-medium truncate\">{track.name}</p>\r\n                          <p className=\"text-xs text-gray-400 truncate\">{track.artists.map(a => a.name).join(', ')}</p>\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-400\">\r\n                          {formatDuration(track.duration_ms)}\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n                \r\n                {/* Favorite Genres */}\r\n                <div className=\"bg-gray-900/70 rounded-xl shadow-lg border border-gray-800/30 p-5 md:col-span-2\">\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <PieChart className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                    <h3 className=\"text-xl font-bold\">Your Music Taste</h3>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {userStats.favoriteGenres.map((genre, index) => (\r\n                      <span\r\n                        key={index}\r\n                        className=\"bg-gradient-to-r from-green-900/40 to-green-800/30 rounded-full px-4 py-1.5 text-sm shadow-md border border-green-900/30\"\r\n                      >\r\n                        {genre}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Search Prompt */}\r\n            <div className=\"bg-gradient-to-r from-gray-900/70 via-gray-800/50 to-gray-900/70 rounded-xl p-8 text-center shadow-xl border border-gray-800/30 hover:shadow-green-900/10 transition-all duration-500 group\">\r\n              <div className=\"relative w-20 h-20 mx-auto mb-6\">\r\n                <div className=\"absolute inset-0 bg-green-500 rounded-full opacity-10 animate-pulse\"></div>\r\n                <Search className=\"w-20 h-20 text-green-500 mx-auto relative z-10 group-hover:scale-110 transition-transform duration-500\" />\r\n              </div>\r\n              <h2 className=\"text-3xl font-bold mb-3 text-transparent bg-clip-text bg-gradient-to-r from-white to-green-400 group-hover:to-green-300 transition-colors duration-300\">\r\n                Search for your favorite artists\r\n              </h2>\r\n              <p className=\"text-gray-400 max-w-2xl mx-auto text-lg group-hover:text-gray-300 transition-colors duration-300\">\r\n                Enter an artist name in the search bar above to explore their top tracks, albums, and more\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"mt-12 p-6 border-t border-gray-800/30 text-center text-sm bg-gradient-to-b from-black to-gray-900/80\">\r\n        <div className=\"max-w-lg mx-auto hover:scale-105 transition-transform duration-500\">\r\n          <p className=\"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 font-medium\">Spotify Artist Lookup App</p>\r\n          <p className=\"mt-2 text-gray-400 flex items-center justify-center\">\r\n            <span className=\"inline-block w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse\"></span>\r\n            Connected to the Spotify API\r\n          </p>\r\n        </div>\r\n      </footer>\r\n\r\n      {/* CSS for animations */}\r\n      <style jsx global>{`\r\n        @keyframes float {\r\n          0% { transform: translateY(0px); }\r\n          50% { transform: translateY(-10px); }\r\n          100% { transform: translateY(0px); }\r\n        }\r\n\r\n        @keyframes fadeIn {\r\n          0% { opacity: 0; transform: translateY(10px); }\r\n          100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n\r\n        .animate-float {\r\n          animation: float 3s ease-in-out infinite;\r\n        }\r\n\r\n        .animate-fadeIn {\r\n          animation: fadeIn 0.5s ease-out forwards;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpotifyApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}